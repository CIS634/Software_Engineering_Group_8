<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Villa Gallery</title>
  <div class="b1">
    <img src="\Hotelwebsite\images\hotel.png" alt="" height=80px width="80px">
    <h1 class="header">VILLA</h1>
  </div>
  <link rel="icon" href="favicon.ico">
  <link rel="stylesheet" href="\Hotelwebsite\css\style.css">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Reggae+One&display=swap" rel="stylesheet">
</head>

<body>
  <p class="home">
    <a class="home1" href="\Hotelwebsite\stay.html">BACK</a>
    <a class="home1" href="\Hotelwebsite\index.html">HOME</a>
  </p>
  <form id="myform" action="\Hotelwebsite\date.php" method="post">

      <label for="start"> Check-in date:</label>
      <input type="date" name="checkindate" value="YYYY-mm-dd" min="2021-06-01" max="2022-12-31" id="checkindate" required/>

      <label for="start"> Check-out date:</label>
      <input type="date" name="checkoutdate" value="YYYY-mm-dd" min="2021-06-01" max="2022-12-31" id="checkoutdate" required/>
  <br>
  <br>
      <label for="roomtype">Select room type: </label>
      <select name="roomtype" id="roomtype">
        <option value="Queen">Queen: $100 per night</option>
        <option value="King">King: $150 per night</option>
        <option value="DoubleQueen">DoubleQueen: $200 per night</option>
      </select>

      <div class="confirmdates">
        <!--button type="submit" onclick="Submit">CONFIRM DATES OF STAY</button-->
        <button type="button" onclick="myDate()" value="Submit Form">CONFIRM DATES OF STAY</button>
    </div>
    <script type="text/javascript">
    function myDate(){
    //  var type = getParameterByName('type');
      var checkindate = document.getElementById("checkindate").value;
      var checkoutdate = document.getElementById("checkoutdate").value;
      var rtype =  document.getElementById("roomtype").value;
        if (checkindate == "" && checkoutdate == "") {
          alert("Please enter checkin and checkout dates");
        } else if (checkindate == "") {
          alert("Please enter checkin date");
        } else if (checkoutdate == "") {
          alert("Please enter checkout date");
        } else if (checkoutdate < checkindate) {
          alert("Checkout date cannot be lesser than checkindate");
        } else {
          var indateObj = new Date(checkindate);
          var inmonth = indateObj.getUTCMonth() + 1; //months from 1-12
          var inday = indateObj.getUTCDate();
          var inyear = indateObj.getUTCFullYear();

          var outdateObj = new Date(checkoutdate);
          var outday = outdateObj.getUTCDate();
          var outmonth = outdateObj.getUTCMonth() + 1; //months from 1-12
          var outyear = outdateObj.getUTCFullYear();

          var noofdays = outday - inday;
          if (noofdays == 0) {
            noofdays = 1;
          }
          if ((outmonth - inmonth) > 0) {
            var noofdays = noofdays + 30;
          }
          var price = 0;
          if (rtype == "Queen"){
            price = 100 * noofdays;
          } else if (rtype == "King"){
            price = 150 * noofdays;
          } else if (rtype == "DoubleQueen"){
            price = 200 * noofdays;
          }

          var confirmmessage = " Price for " + noofdays + "days is $" + price + "!! Confirm your Booking for " + noofdays + " days?";

          let result = confirm(confirmmessage);

            if (result == true) {
           document.getElementById("myform").submit();
           }
          // else if (result == false){
          // window.location = "\Finalpage.html";
          // }
          //   }while(flag == true);

      }
    }
  </script>
    <!--script src="index.js" charset="utf-8"></script-->
  </form>
</body>

</html>
